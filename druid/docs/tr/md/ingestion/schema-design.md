本章旨在帮助用户设计一个用于导入的Druid的数据结构。Druid接收的非规范化数据，列的类型有三种，时间戳、维度或者一个测量值`measure`(或者说Druid已知的指标`metric`/聚合器`aggregator`)。这遵循OLAP数据的[标准命名约定](https://en.wikipedia.org/wiki/Online_analytical_processing#Overview_of_OLAP_systems)。  
具体来说：
- 每行Druid数据都有一个时间戳。数据一般按照时间分区，每个查询也都有一个时间的过滤。查询结果也按照时间段，如果分钟、小时、天等等分段。
- 维度是可以被过滤或者分组的字段。他们通常是单个字符串，字符串数组，单个整数、单个双精度浮点数或者单个单精度浮点数。
- 指标是可以被聚合计算的的字段。他们通常被被存储为数字(整数或浮点)，也可以存储为更复杂的对象，如HyperLogLog草图或者近似直方图草图。

一般的线上表(或者Druid里的datasource)有不到100个维度和不到100个指标。虽然基于用户的需求，创建数千个维度的datasource也是发生过的。  
下面我们介绍一些结构定义的最佳实践方案：

### 数字型维度
如果用户希望导入一个数字型维度如`Long`、`Double`或者`Float`，首先需要在`dimension`的`dimensionsSpec`配置项声明，否则会默认为字符串类型导入。  
字符串和数字型的列在性能上需要权衡。数字型的列在分组的效率上一般更快。但是跟字符串不一样的是，数字型没有索引，因此在过滤的时间会更慢。  
详情请阅读[维度结构](#!/ingestion/ingestion-spec#dimension-schema)

### 高基数维度(如唯一ID)
时间上我们发现唯一ID的精确计数一般是不需要的。存储唯一ID会使roll-up失效和影响压缩。相反，存储能看见唯一ID的草图，和这些草图结果继续的聚合会更好地提高性能(数据量的性能提升)，和显著的存储量减少。Druid的`hyperUnique`基于[HyperLogLog]算法，用于计算高基维度不同个数的数量。

